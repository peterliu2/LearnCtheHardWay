\hypertarget{shell_8c}{}\section{shell.\+c File Reference}
\label{shell_8c}\index{shell.\+c@{shell.\+c}}


shell  


{\ttfamily \#include \char`\"{}shell.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}../../common/include/dbg.\+h\char`\"{}}\\*
{\ttfamily \#include $<$stdarg.\+h$>$}\\*
Include dependency graph for shell.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=345pt]{shell_8c__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{shell_8c_aff9ad8e697131563bcb0071b242a338d}{Shell\+\_\+exec} (\hyperlink{structShell}{Shell} template,...)
\begin{DoxyCompactList}\small\item\em shell execute \end{DoxyCompactList}\item 
int \hyperlink{shell_8c_acda27d63b5d5da99f9b12d52f376b006}{Shell\+\_\+run} (apr\+\_\+pool\+\_\+t $\ast$p, \hyperlink{structShell}{Shell} $\ast$cmd)
\begin{DoxyCompactList}\small\item\em shell run \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structShell}{Shell} {\bfseries C\+L\+E\+A\+N\+U\+P\+\_\+\+S\+H}
\item 
\hyperlink{structShell}{Shell} {\bfseries G\+I\+T\+\_\+\+S\+H}
\item 
\hyperlink{structShell}{Shell} {\bfseries T\+A\+R\+\_\+\+B\+Z2\+\_\+\+S\+H}
\item 
\hyperlink{structShell}{Shell} {\bfseries T\+A\+R\+\_\+\+G\+Z\+\_\+\+S\+H}
\item 
\hyperlink{structShell}{Shell} {\bfseries C\+U\+R\+L\+\_\+\+S\+H}
\item 
\hyperlink{structShell}{Shell} {\bfseries C\+O\+N\+F\+I\+G\+U\+R\+E\+\_\+\+S\+H}
\item 
\hyperlink{structShell}{Shell} {\bfseries M\+A\+K\+E\+\_\+\+S\+H}
\item 
\hyperlink{structShell}{Shell} {\bfseries I\+N\+S\+T\+A\+L\+L\+\_\+\+S\+H}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
shell 

\begin{DoxyAuthor}{Author}
peter liu \href{mailto:peter.liu.work@gmail.com.tw}{\tt peter.\+liu.\+work@gmail.\+com.\+tw} 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
0.\+0 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
2016-\/04-\/10 
\end{DoxyDate}


\subsection{Function Documentation}
\hypertarget{shell_8c_aff9ad8e697131563bcb0071b242a338d}{}\index{shell.\+c@{shell.\+c}!Shell\+\_\+exec@{Shell\+\_\+exec}}
\index{Shell\+\_\+exec@{Shell\+\_\+exec}!shell.\+c@{shell.\+c}}
\subsubsection[{Shell\+\_\+exec}]{\setlength{\rightskip}{0pt plus 5cm}int Shell\+\_\+exec (
\begin{DoxyParamCaption}
\item[{{\bf Shell}}]{template, }
\item[{}]{...}
\end{DoxyParamCaption}
)}\label{shell_8c_aff9ad8e697131563bcb0071b242a338d}


shell execute 


\begin{DoxyParams}{Parameters}
{\em template} & shell command template \\
\hline
{\em ...} & shell command arguments\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\bfseries 0}\+: execute finish successfully ~\newline
{\bfseries -\/1}\+: error 
\end{DoxyReturn}
\hypertarget{shell_8c_acda27d63b5d5da99f9b12d52f376b006}{}\index{shell.\+c@{shell.\+c}!Shell\+\_\+run@{Shell\+\_\+run}}
\index{Shell\+\_\+run@{Shell\+\_\+run}!shell.\+c@{shell.\+c}}
\subsubsection[{Shell\+\_\+run}]{\setlength{\rightskip}{0pt plus 5cm}int Shell\+\_\+run (
\begin{DoxyParamCaption}
\item[{apr\+\_\+pool\+\_\+t $\ast$}]{p, }
\item[{{\bf Shell} $\ast$}]{cmd}
\end{DoxyParamCaption}
)}\label{shell_8c_acda27d63b5d5da99f9b12d52f376b006}


shell run 


\begin{DoxyParams}{Parameters}
{\em p} & A\+P\+R pool \\
\hline
{\em cmd} & shell command\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\bfseries 0}\+: run finish successfully ~\newline
{\bfseries -\/1}\+: error 
\end{DoxyReturn}


\subsection{Variable Documentation}
\hypertarget{shell_8c_ac8575ca18e0cd8a397ecf8703d0a1e2e}{}\index{shell.\+c@{shell.\+c}!C\+L\+E\+A\+N\+U\+P\+\_\+\+S\+H@{C\+L\+E\+A\+N\+U\+P\+\_\+\+S\+H}}
\index{C\+L\+E\+A\+N\+U\+P\+\_\+\+S\+H@{C\+L\+E\+A\+N\+U\+P\+\_\+\+S\+H}!shell.\+c@{shell.\+c}}
\subsubsection[{C\+L\+E\+A\+N\+U\+P\+\_\+\+S\+H}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Shell} C\+L\+E\+A\+N\+U\+P\+\_\+\+S\+H}\label{shell_8c_ac8575ca18e0cd8a397ecf8703d0a1e2e}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= \{
    .exe = \textcolor{stringliteral}{"rm"},
    .dir = \textcolor{stringliteral}{"/tmp"},
    .args = \{ \textcolor{stringliteral}{"rm"}, \textcolor{stringliteral}{"-rf"}, \textcolor{stringliteral}{"/tmp/pkg-build"}, \textcolor{stringliteral}{"/tmp/pkg-src.tar.gz"}, \textcolor{stringliteral}{"/tmp/pkg-src.tar.bz2"}, \textcolor{stringliteral}{"/tmp/DEPENDS"},
       NULL \},
    .need\_replace\_args\_count = 0
\}
\end{DoxyCode}
\hypertarget{shell_8c_a0b00c62afcd9cbe9ddcafd077958746e}{}\index{shell.\+c@{shell.\+c}!C\+O\+N\+F\+I\+G\+U\+R\+E\+\_\+\+S\+H@{C\+O\+N\+F\+I\+G\+U\+R\+E\+\_\+\+S\+H}}
\index{C\+O\+N\+F\+I\+G\+U\+R\+E\+\_\+\+S\+H@{C\+O\+N\+F\+I\+G\+U\+R\+E\+\_\+\+S\+H}!shell.\+c@{shell.\+c}}
\subsubsection[{C\+O\+N\+F\+I\+G\+U\+R\+E\+\_\+\+S\+H}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Shell} C\+O\+N\+F\+I\+G\+U\+R\+E\+\_\+\+S\+H}\label{shell_8c_a0b00c62afcd9cbe9ddcafd077958746e}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= \{
    .exe = \textcolor{stringliteral}{"./configure"},
    .dir = \textcolor{stringliteral}{"/tmp/pkg-build"},
    .args = \{ \textcolor{stringliteral}{"configure"}, \textcolor{stringliteral}{"OPTS"}, NULL\},
    .need\_replace\_args\_count = 1
\}
\end{DoxyCode}
\hypertarget{shell_8c_a346ec2013949bbb903b144afbea185a7}{}\index{shell.\+c@{shell.\+c}!C\+U\+R\+L\+\_\+\+S\+H@{C\+U\+R\+L\+\_\+\+S\+H}}
\index{C\+U\+R\+L\+\_\+\+S\+H@{C\+U\+R\+L\+\_\+\+S\+H}!shell.\+c@{shell.\+c}}
\subsubsection[{C\+U\+R\+L\+\_\+\+S\+H}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Shell} C\+U\+R\+L\+\_\+\+S\+H}\label{shell_8c_a346ec2013949bbb903b144afbea185a7}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= \{
    .exe = \textcolor{stringliteral}{"curl"},
    .dir = \textcolor{stringliteral}{"/tmp"},
    .args = \{ \textcolor{stringliteral}{"curl"}, \textcolor{stringliteral}{"-L"}, \textcolor{stringliteral}{"-o"}, \textcolor{stringliteral}{"TARGET"}, \textcolor{stringliteral}{"URL"}, NULL \},
    .need\_replace\_args\_count = 2
\}
\end{DoxyCode}
\hypertarget{shell_8c_a16b33613717f72f8845944f362a8e92f}{}\index{shell.\+c@{shell.\+c}!G\+I\+T\+\_\+\+S\+H@{G\+I\+T\+\_\+\+S\+H}}
\index{G\+I\+T\+\_\+\+S\+H@{G\+I\+T\+\_\+\+S\+H}!shell.\+c@{shell.\+c}}
\subsubsection[{G\+I\+T\+\_\+\+S\+H}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Shell} G\+I\+T\+\_\+\+S\+H}\label{shell_8c_a16b33613717f72f8845944f362a8e92f}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= \{
    .exe = \textcolor{stringliteral}{"git"},
    .dir = \textcolor{stringliteral}{"/tmp"},
    .args = \{ \textcolor{stringliteral}{"git"}, \textcolor{stringliteral}{"clone"}, \textcolor{stringliteral}{"--progress"}, \textcolor{stringliteral}{"URL"}, \textcolor{stringliteral}{"pkg-build"}, NULL \},
    .need\_replace\_args\_count = 1
\}
\end{DoxyCode}
\hypertarget{shell_8c_a237379db14a3952deeb7e942a49e4e2b}{}\index{shell.\+c@{shell.\+c}!I\+N\+S\+T\+A\+L\+L\+\_\+\+S\+H@{I\+N\+S\+T\+A\+L\+L\+\_\+\+S\+H}}
\index{I\+N\+S\+T\+A\+L\+L\+\_\+\+S\+H@{I\+N\+S\+T\+A\+L\+L\+\_\+\+S\+H}!shell.\+c@{shell.\+c}}
\subsubsection[{I\+N\+S\+T\+A\+L\+L\+\_\+\+S\+H}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Shell} I\+N\+S\+T\+A\+L\+L\+\_\+\+S\+H}\label{shell_8c_a237379db14a3952deeb7e942a49e4e2b}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= \{
    .exe = \textcolor{stringliteral}{"sudo"},
    .dir = \textcolor{stringliteral}{"/tmp/pkg-build"},
    .args = \{ \textcolor{stringliteral}{"sudo"}, \textcolor{stringliteral}{"make"}, \textcolor{stringliteral}{"TARGET"}, NULL \},
    .need\_replace\_args\_count = 1
\}
\end{DoxyCode}
\hypertarget{shell_8c_a5b265c6270c71a773cc4af9e3ced813a}{}\index{shell.\+c@{shell.\+c}!M\+A\+K\+E\+\_\+\+S\+H@{M\+A\+K\+E\+\_\+\+S\+H}}
\index{M\+A\+K\+E\+\_\+\+S\+H@{M\+A\+K\+E\+\_\+\+S\+H}!shell.\+c@{shell.\+c}}
\subsubsection[{M\+A\+K\+E\+\_\+\+S\+H}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Shell} M\+A\+K\+E\+\_\+\+S\+H}\label{shell_8c_a5b265c6270c71a773cc4af9e3ced813a}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= \{
    .exe = \textcolor{stringliteral}{"make"},
    .dir = \textcolor{stringliteral}{"/tmp/pkg-build"},
    .args = \{ \textcolor{stringliteral}{"make"}, \textcolor{stringliteral}{"OPTS"}, NULL \},
    .need\_replace\_args\_count  = 1
\}
\end{DoxyCode}
\hypertarget{shell_8c_aa0b669cfcbe7b7ba61c39ca7cfbc3b16}{}\index{shell.\+c@{shell.\+c}!T\+A\+R\+\_\+\+B\+Z2\+\_\+\+S\+H@{T\+A\+R\+\_\+\+B\+Z2\+\_\+\+S\+H}}
\index{T\+A\+R\+\_\+\+B\+Z2\+\_\+\+S\+H@{T\+A\+R\+\_\+\+B\+Z2\+\_\+\+S\+H}!shell.\+c@{shell.\+c}}
\subsubsection[{T\+A\+R\+\_\+\+B\+Z2\+\_\+\+S\+H}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Shell} T\+A\+R\+\_\+\+B\+Z2\+\_\+\+S\+H}\label{shell_8c_aa0b669cfcbe7b7ba61c39ca7cfbc3b16}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= \{
    .exe = \textcolor{stringliteral}{"tar"},
    .dir = \textcolor{stringliteral}{"/tmp/pkg-build"},
    .args = \{ \textcolor{stringliteral}{"tar"}, \textcolor{stringliteral}{"-xjf"}, \textcolor{stringliteral}{"FILE"}, \textcolor{stringliteral}{"--strip-components=1"}, NULL \},
    .need\_replace\_args\_count = 1
\}
\end{DoxyCode}
\hypertarget{shell_8c_ac58f37e9e100ffc67d216b23aeb70185}{}\index{shell.\+c@{shell.\+c}!T\+A\+R\+\_\+\+G\+Z\+\_\+\+S\+H@{T\+A\+R\+\_\+\+G\+Z\+\_\+\+S\+H}}
\index{T\+A\+R\+\_\+\+G\+Z\+\_\+\+S\+H@{T\+A\+R\+\_\+\+G\+Z\+\_\+\+S\+H}!shell.\+c@{shell.\+c}}
\subsubsection[{T\+A\+R\+\_\+\+G\+Z\+\_\+\+S\+H}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Shell} T\+A\+R\+\_\+\+G\+Z\+\_\+\+S\+H}\label{shell_8c_ac58f37e9e100ffc67d216b23aeb70185}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= \{
    .exe = \textcolor{stringliteral}{"tar"},
    .dir = \textcolor{stringliteral}{"/tmp/pkg-build"},
    .args = \{ \textcolor{stringliteral}{"tar"}, \textcolor{stringliteral}{"-xzf"}, \textcolor{stringliteral}{"FILE"}, \textcolor{stringliteral}{"--strip-components=1"}, NULL \},
    .need\_replace\_args\_count = 1
\}
\end{DoxyCode}
